<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>用户注册</title>
<link rel="stylesheet" type="text/css" href="css/public.css"/>
<link rel="stylesheet" type="text/css" href="css/xindex.css"/>
</head>

<body>
<!--=S header start-->
<div id="top">
    <div id="header" class="s-header">
        <div class="logo">
            <img src="images/h_school/logo.png" alt="logo" width="451" height="62" />
        </div>
        <div class="login-box"> 
          <!--登录前--> 
         <div class="zhuc f-right" style="display:none;">
                <a href="javascript:;" id="x-login">登录</a>
                |
                <a href="javascript:;" id="zc-login">注册</a>
           </div>
           <!--登录后-->
           <div class="zhuc-ok f-right" style="display:block;">
                 <div class="zhuc-topmenu">
                    <span class="zhuc-info">您好，张三李四</span>
                    <a href="javascript:;">应用管理</a>
                    |
                    <a href="javascript:;">新消息2</a>
                    |
                    <a href="javascript:;">我的备忘</a>
                    |
                    <a href="javascript:;">我的收藏</a>
                    |
                    <a href="javascript:;">我的关注</a>
                    |
                    <a href="javascript:;">退出</a>
                </div>
           </div>
           <!--登录后结束-->
           <div class="search-box f-right">
                <input type="text" class="q" id="q" value="搜索课程..." />
                <button type="submit" id="searchButton"></button>
            </div>
        </div>
        
    </div>

</div>
<div class="nav">
    <div id="menu">
            <a href="高中选修课_首页.html" class="current">首&nbsp;&nbsp;页</a>
            <a href="高中选修课_课程中心.html">课程中心</a>
            <a href="高中选修课_市县分平台.html">市县分平台</a>
            <a href="高中选修课_教师风采.html">教师风采</a>
            <a href="高中选修课_答疑交流.html">答疑交流</a>
            <a href="http://zhejiang.icourses.cn/cuoc/" target="blank">国家课程</a>
            <a href="高中选修课_帮助中心.html">帮助中心</a>
            <a href="高中选修课_在线答疑.html">在线答疑</a>
    </div>
</div>
<!--=E header end-->

<!--=S container start-->
<div id="container">
   <div class="register-wrapper">
      <div class="main">
          <div class="summary">
                <h1>欢迎注册浙江省普通高中选修课网络课程</h1>
            </div>
            <div class="register-input-wrapper">
                <div class="register-role">
                    <a class="tab tab-current" href="javascript:void;">学生</a>
                    <a class="tab" href="javascript:void;">老师</a>
                </div>
                <!--学生注册-->
                <div class="register-form">
                        <form action="/estudy/register-save-student.action" id="myform" method="post">
                              <input type="hidden" name="userType" value="1">
                              <table border="0" cellpadding="0" cellspacing="0">
                                  <tbody>
                                            <tr>
                                                <th><font color="red">*</font>用户名：</th>
                                                <td>
                                                    <input class="inputxt" type="text" id="userName" name="userName" value="" onblur="checkForm(this)">
                                                    <span class="message" id="userName_tip">用户名只允许为字母、数字和下划线</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th><font color="red">*</font>设置密码：</th>
                                                <td>
                                                    <input class="inputxt" type="password" id="password" name="password" value="" onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^\x00-\xff]/g,''))" onblur="checkForm(this)" onkeyup="changePwd(this)">
                                                    <span class="message" id="password_tip">密码长度必须在6-12个字符之间</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th></th>
                                                <td>
                                                    <div class="pwd-save">
                                                  <span class="active">弱</span>
                                                  <span>中</span>
                                                  <span>强</span>
                                              </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th><font color="red">*</font>确认密码：</th>
                                                <td>
                                                    <input class="inputxt" type="password" id="repassword" name="repassword" value="" onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[^\x00-\xff]/g,''))" onblur="checkForm(this)">
                                                    <span class="message" id="repassword_tip">请再输一次密码</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th><font color="red">*</font>真实姓名：</th>
                                                <td>
                                                    <input class="inputxt" type="text" id="realname" name="realname" value="" onblur="checkForm(this)">
                                                    <span class="message" id="realname_tip">非真实姓名学校管理员将停用账号</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th><font color="red">*</font>所在学校：</th>
                                                <td>
                                                  <script>
                                                    var topRegion = '33';
                                                    var topeduRegion = '330000';
                                                      function getRegions(code){
                                                        if(code == ""){
                                                          jQuery("#regions2").empty();
                                                          jQuery("#regions3").empty();
                                                          jQuery("#regions3").append("<option value=''>======请选择======</option>");
                                                          return;
                                                        }
                                                        if(code.length == 2 || code == topRegion + "0000"){
                                                          jQuery("#regions2").empty();
                                                            getSchool(topRegion);
                                                          jQuery("#regions2").append("<option value='" + topeduRegion + "'>省直属(高校)</option>");
                                                          jQuery("#regions3").empty();
                                                          jQuery("#regions3").append("<option value=''>======请选择======</option>");
                                                          return;
                                                        }
                                                        
                                                        var tempCode;
                                                        if (code.length == 6){
                                                          tempCode = code.substring(0, 4);
                                                        }
                                                        common.ajax("/estudy/register-region2.action?regionCode=" + tempCode, function(data) {
                                                          jQuery("#regions2").empty();
                                                          jQuery("#regions2").append(data);
                                                          getSchool(document.getElementById("regions2").value);
                                                        });
                                                      }
                                                      
                                                    function getAllSubSchool(code){
                                                      code = code.substring(0, 4);
                                                      getSchool(code);
                                                    }
                                                    function getSchool(code){
                                                      if(!code || code == ""){
                                                        jQuery("#regions3").empty();
                                                        jQuery("#regions3").append("<option value=''>======请选择======</option>");
                                                        return;
                                                      }
                                                      if(code.length == 6 && code.lastIndexOf("01") == 4){
                                                        //code = code.substring(0, 4) + "00";
                                                      }else if(code.length == 2){
                                                        code = code + "0000";
                                                      }
                                                        var url = "/estudy/register-regionUnit.action?regionCode="+code+"&unitType=2";
                                                        common.ajax(url, function(data) {
                                                          jQuery("#regions3").empty();
                                                          jQuery("#regions3").append("<option value=''>======请选择======</option>");
                                                          jQuery("#regions3").append(data);
                                                        });
                                                    }
                                                    
                                                    function getRegionCode(){
                                                      var regions1 = document.getElementById("regions1");
                                                      var regions2 = document.getElementById("regions2");
                                                      
                                                      var code = "";
                                                      if(!regions2 || regions2.value == ""){
                                                        code = regions1.value;
                                                      }else{
                                                        code = regions2.value;
                                                      }
                                                      
                                                      if(code.length == 6 && code.lastIndexOf("01") == 4){
                                                        code = code.substring(0, 4) + "00";
                                                      }else if(code.length == 2){
                                                        code = code + "0000";
                                                      }else if(code.length == 6){
                                                        code = code.substring(0, 4);
                                                      }
                                                      return code;
                                                    }
                                                    
                                                    function getEmptyRegionCode(){
                                                      var regions1 = document.getElementById("regions1");
                                                      var regions2 = document.getElementById("regions2");
                                                      
                                                      var code = "";
                                                      if(!regions2 || regions2.value == ""){
                                                        if(regions1.value.length==6 && regions1.value.substring(4, 6) == "00"){
                                                          code = regions1.value.substring(0, 4);
                                                        }else{
                                                          code = regions1.value;
                                                        }
                                                      }else{
                                                        code = regions2.value;
                                                      }
                                                      
                                                      if(code.length == 6 && code.lastIndexOf("01") == 4){
                                                        code = code.substring(0, 4) + "00";
                                                      }
                                                      
                                                      return code;
                                                    }
                                                    
                                                    jQuery(document).ready(function($) {
                                                      common.ajax("/estudy/register-region1.action?regionCode=" + topRegion, function(data) {
                                                        jQuery("#regions1").empty();
                                                        jQuery("#regions1").append(data);
                                                      });
                                                        getRegions(topRegion);
                                                    });
                                                  </script>
                                                    
                                                      <select id="regions1" onchange="getRegions(this.value)" style="width:70px"><option value="330000" title="省直属">省直属</option><option value="330100" title="杭州市">杭州市</option><option value="330200" title="宁波市">宁波市</option><option value="330300" title="温州市">温州市</option><option value="330400" title="嘉兴市">嘉兴市</option><option value="330500" title="湖州市">湖州市</option><option value="330600" title="绍兴市">绍兴市</option><option value="330700" title="金华市">金华市</option><option value="330800" title="衢州市">衢州市</option><option value="330900" title="舟山市">舟山市</option><option value="331000" title="台州市">台州市</option><option value="331100" title="丽水市">丽水市</option></select>
                                                      <select id="regions2" onchange="getSchool(this.value)" style="width:85px"><option value="330000">省直属(高校)</option></select>
                                                      <select id="regions3" name="unitId" style="width:190px"><option value="">======请选择======</option><option value="FF808081362EE5D401362F37E49B0009" title="演示单位">演示单位</option><option value="AAAAAAAAAAAAAAAAAAAAAAAAA-xx6441" title="杭州外国语学校">杭州外国语学校</option><option value="AAAAAAAAAAAAAAAAAAAAAAAAA-xx6502" title="浙江省教育厅教研室">浙江省教育厅教研室</option><option value="AAAAAAAAAAAAAAAAAAAAAAAA-xx10050" title="浙江省教育技术中心">浙江省教育技术中心</option><option value="AAAAAAAAAAAAAAAAAAAAAAAA-xx10801" title="浙江省教育科学研究院">浙江省教育科学研究院</option><option value="AAAAAAAAAAAAAAAAAAAAAAAA-xx13160" title="浙江省教育科学研究院">浙江省教育科学研究院</option></select>
                                                                                    <select id="gradeCode" name="gradeCode">
                                                                                        <option value="31">高一</option>
                                                                                        <option value="32">高二</option>
                                                                                        <option value="33">高三</option>
                                                                                    </select>
                                                                                    
                                                                                    <select id="classCode" name="classCode">
                                                                                    <option value="01">(01)班</option><option value="02">(02)班</option><option value="03">(03)班</option><option value="04">(04)班</option><option value="05">(05)班</option><option value="06">(06)班</option><option value="07">(07)班</option><option value="08">(08)班</option><option value="09">(09)班</option><option value="10">(10)班</option><option value="11">(11)班</option><option value="12">(12)班</option><option value="13">(13)班</option><option value="14">(14)班</option><option value="15">(15)班</option><option value="16">(16)班</option><option value="17">(17)班</option><option value="18">(18)班</option><option value="19">(19)班</option><option value="20">(20)班</option></select>
                                                                                    
                                                                                    <br><span class="message" id="regions3_tip"></span>
                                                                                </td>
                                            </tr>
                                                      
                                            <script>
                                              var isUse = "";
                                              var isNotUse = "";
                                              var isNoInfo = "";
                                              var isError = "";
                                              
                                              function checkFiled(obj){
                                                var filedObj = document.getElementById("filedObj");
                                                var schoolId = document.getElementById("regions3");
                                                var classObj = document.getElementById('classCode');
                                                  var gradeObj = document.getElementById('gradeCode');
                                                
                                                if(filedObj && (!obj || obj.id == filedObj.id)){
                                                  if(!common.checkElement(filedObj, "")){
                                                    common.msg("身份证号码不能为空", filedObj);
                                                    return false;
                                                  }
                                                  if(!common.checkElement(schoolId, "所在学校")){
                                                    common.msg("请先选择所在学校", schoolId);
                                                    return false;
                                                  }
                                                    if(isUse.indexOf("<"+schoolId.value + classObj.value + gradeObj.value + filedObj.value+">") > -1){
                                                      common.msg("该身份证号码已被注册", filedObj);
                                                    return false;
                                                    }else if(isError.indexOf("<"+schoolId.value + classObj.value + gradeObj.value + filedObj.value+">") > -1){
                                                      common.msg("该身份证号码格式错误", filedObj);
                                                    return false;
                                                    }else if(isNoInfo.indexOf("<"+schoolId.value + classObj.value + gradeObj.value + filedObj.value+">") > -1){
                                                      common.msg("该身份证号码没有对应的学生信息", filedObj);
                                                    return false;
                                                    }else if(isNotUse.indexOf("<"+schoolId.value + classObj.value + gradeObj.value + filedObj.value+">") == -1){
                                                      //检查是否存在
                                                      common.ajax("/estudy/register-checkStucode.action?register.unitId=" + schoolId.value + "&register.gradeCode=" + gradeObj.value
                                                          + "&register.classCode=" + classObj.value + "&register.idcard=" + filedObj.value, function(res){
                                                        if(res == "true"){
                                                          isNotUse += "<" + schoolId.value + classObj.value + gradeObj.value + filedObj.value + ">";
                                                        }else{
                                                          if(res == "false"){
                                                            common.msg("该身份证号码已被注册", filedObj);
                                                            isUse += "<" + schoolId.value + classObj.value + gradeObj.value + filedObj.value + ">";
                                                          }else if(res == "noInfo"){
                                                            common.msg("该身份证号码没有对应的学生信息", filedObj);
                                                            isNoInfo += "<" + schoolId.value + classObj.value + gradeObj.value + filedObj.value + ">";
                                                          }else if(res == "error"){
                                                            common.msg("该身份证号码格式错误", filedObj);
                                                            isError += "<" + schoolId.value + classObj.value + gradeObj.value + filedObj.value + ">";
                                                        }else{
                                                            common.msg(res, filedObj);
                                                        }
                                                        return false;
                                                        }
                                                      });
                                                    }
                                                    return true;
                                                }
                                              }
                                            </script>
                                            <tr>
                                                <th><font color="red">*</font>身份证号码：</th>
                                                <td>
                                                  <input class="inputxt" type="text" id="filedObj" name="idcard" value="" onblur="checkForm(this)">
                                                    <span id="filedObj_tip"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th><font color="red">*</font>验证码：</th>
                                                <td>
                                                    <input style="width:50px" class="inputxt" type="text" name="code" id="code" value="" onkeyup="value=value.replace(/[#]/g,'') " onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[#]/g,''))" onblur="checkForm(this)">
                                                    <a href="#"><img id="img" align="middle" src="images/index/register-code.action" onclick="this.src='/estudy/register-code.action?'+ Math.random()" title="看不清,点击图片换一张"></a>（点击验证码可换一张）
                                                    <span class="message" id="code_tip"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th></th>
                                                <td><input class="submit-btn" type="button" value="" onclick="save()"></td>
                                            </tr>
                                        </tbody>
                                      </table>
                        </form>
                </div>
                <!--学生注册结束-->
                <!--老师注册-->
                <div class="register-form" style="display:none;">
                    <table border="0" cellpadding="0" cellspacing="0">
                          <tbody>
                              <tr>
                                  <td>
                                      <span style="font-size:14px">
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      “浙江省普通高中选修课网络课程”的教师用户名和密码跟“浙江省教师培训管理平台”<br><br>
                                          （pxglpt.zjedu.gov.cn）一致，无需重新注册。无法登录或忘记密码，请联系“浙江省教师<br><br>
                                          培训管理平台”学校管理员获取用户名和密码。<br><br>
                                      </span>
                                  </td>
                              </tr>
                          </tbody>
                    </table>
                </div>
                <!--老师注册结束-->
            </div>
        </div>
        <div class="side">
          <div class="has-account">
                <h2>您已经有用户名？</h2>
                <a class="login" href="/estudy/estudyLogin.action">登 录</a>
                <!-- <a class="forgot-pwd" href="#">忘记密码？</a> -->
            </div>
            <div class="newbie-tips">
              <img src="images/index/register_07.gif" width="240" height="259">
              <div class="wa-wrapper">
                    <h3>新手引导：</h3>
                    <p>
                        </p><ol>
                            <li>1. 课程中心 选课</li>
                            <li>2. 进入课程学习</li>
                            <li>3. 完成每个课件的作业<br>完成所有课件的学习</li>
                            <li>4. 参加综合测评</li>
                        </ol>
                        综合测评成绩+平时成绩及格<br>完成学习
                    <p></p>
                </div>
            </div>
        </div>
        <div class="clr"></div>
    </div>
</div>
<div class="clr"></div>
<div id="footer"> 
    <div id="footer-nav"> 
          <div class="footer-left">
              <div class="foot-nav">
                  <a href="/estudy/help/helpCenter.action">帮助中心</a>
              |  <a href="/estudy/index/homePage/homePage.action?typeIndex=2" target="_blank">作者声明</a>
              |  <a href="/estudy/index/homePage/homePage.action?typeIndex=3" target="_blank">联系我们</a>
                  |  <a href="/estudy/expertUser/login.action">专家账户登录</a>
                  |  <a href="/estudy/estudyLogin.action?loginType=5">后台管理</a>
                </div>
              <div class="foot-nav">
                 <a href="">浙江省教育厅</a>
                 <a href="">浙江省教育技术中心</a>
                 <a href="">浙江教育资源网</a>
                 <a href="">浙江职业教育资源网</a>                 
              </div>
          </div>
         
          <div class="footer-right"> 
              <img src="images/footer-logo.png">
              <p class="banq"><span class="txt">CopyRight 2012-2015 版权所有</span><a href="http://www.cnzz.com/stat/website.php?web_id=4497361" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="http://icon.cnzz.com/img/pic.gif"></a></p>
          </div>
    </div>
</div>
<div id="cbbfixed">
   <!-- <a id="gotop" class="cbbtn" href="#" hidefocus="true"><span class="yy-icon yy-gt"></span></a>-->
  <a class="cweixin cbbtn" href="javascript:void;">
     <span class="weixin-icon"></span>
     <div></div>
  </a>
  <a id="gotop" class="cbbtn" href="">
        <span class="yy-icon yy-gt" style="display:none;"></span>
  </a>
</div>

<!--点击反馈弹出层-->
<div class="mask"></div>
<div class="qtip">
 <div class="questionnaire"> 
        <div class="q_warp">
            <p class="q_title">意见反馈<span class="closed"></span></p>
            <div class="q_content" style="height: 256px;">  
               <div id="info"> 
                 <p class="q_chexkbox"> 
                     <span><input type="checkbox">功能使用 </span>
                     <span><input type="checkbox">界面美观 </span>
                     <span><input type="checkbox">后台管理</span>
                     <span><input type="checkbox">其他</span>
                 </p>
                 <p class="q_textarea">  
                    <textarea class="text" border-style="solid" value="" id="textarea" onfocus="if(value=='请在这里输入您的宝贵建议...') {value=' '}">请在这里输入您的宝贵建议...</textarea>
                 </p>
               </div>
               <input type="button" value="提交" class="input-btn05 mt20" id="close_button">
            </div>
        </div>
  </div>
</div>
<!--点击反馈弹出层结束-->
<!--=E footer end-->
<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="js/coursemyscript.js"></script>
<script type="text/javascript" src="js/myscript-chkRadio.js"></script>
<script type="text/javascript"> 
  $(function(){
       $('.register-role a').click(function(){
          var index = $(this).index();
          $(this).addClass('tab-current').siblings('a').removeClass('tab-current');
          $(this).parents(".register-input-wrapper").children(".register-form").eq(index).show().siblings(".register-form").hide();
       });
  });
</script>
</body>
</html>